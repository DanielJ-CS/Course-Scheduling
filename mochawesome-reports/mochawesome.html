<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mochawesome Report Card</title>
    
    <link rel="stylesheet" href="css/mochawesome.css">
  </head>
  <body>

    <!-- NAVBAR -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="report-info-cnt">
          <h1 class="report-title">cpsc310project</h1>
          <h3 class="report-date">Tuesday, November 8 2016, 07:08pm</h3>
        </div>
        <div class="nav-right">
          <div class="quick-summary-cnt">
              <ul class="list-unstyled quick-summary">
                <li class="qs-item summary-duration" title="Duration">4.124<span>S</span></li>
                <li class="qs-item summary-suites" title="Suites">5</li>
                <li class="qs-item summary-tests" title="Tests">86</li>
                <li class="qs-item summary-passes" title="Passed" data-filter="passed">85</li>
                <li class="qs-item summary-failures" title="Failed" data-filter="failed">1</li>
                <li class="qs-item summary-pending" title="Pending" data-filter="pending">0</li>
              </ul>          </div>
          <button class="nav-menu-btn open-menu"><i class="icon-menu"></i></button>
        </div>
      </div>
    </div>

    <!-- Report Summary -->
    <div class="summary">
      <div class="container">
          <div class="row">
            <div class="summary-col summary-duration">
              <h1 class="summary-count">4.124<span>S</span></h1>
              <h4 class="summary-label">S</h4>
            </div>
            <div class="summary-col summary-suites" title="Suites">
              <h1 class="summary-count">5</h1>
              <h4 class="summary-label">Suites</h4>
            </div>
            <div class="summary-col summary-tests" title="Tests">
              <h1 class="summary-count">86</h1>
              <h4 class="summary-label">Tests</h4>
            </div>
            <div class="summary-col summary-passes" data-filter="passed" title="Passed">
              <h1 class="summary-count">85</h1>
              <h4 class="summary-label">Passed</h4>
            </div>
            <div class="summary-col summary-failures" data-filter="failed" title="Failed">
              <h1 class="summary-count">1</h1>
              <h4 class="summary-label">Failed</h4>
            </div>
            <div class="summary-col summary-pending" data-filter="pending" title="Pending">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Pending</h4>
            </div>
          </div>      </div>
    </div>
    <div class="statusbar">
      <div class="container">
          <div class="row">
            <div class="status-item status-item-pending-pct">0% Pending</div>
            <div class="status-item status-item-passing-pct success">98.8% Passing</div>
          </div>      </div>
    </div>

    <!-- Suites -->
    <div class="details container">
            <section class="suite-wrap">
          <div id="05c351f7-0891-47fc-bfdf-fac39058d416" class="suite has-tests has-passed has-failed">
            <h3 class="suite-title">DatasetController</h3>
            <h5 class="suite-filename">/test/DatasetControllerSpec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="05c351f7-0891-47fc-bfdf-fac39058d416" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="1" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">380 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">1</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#05c351f7-0891-47fc-bfdf-fac39058d416-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="05c351f7-0891-47fc-bfdf-fac39058d416-test-list" class="list-group test-list collapse in">
                    <div id="57fdcf02-ab7d-4792-b105-9bad81955be8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should throw error on zip without any valid data file under courses
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#57fdcf02-ab7d-4792-b105-9bad81955be8 > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small">Util_1.default.test(<span class="hljs-string">'Creating dataset'</span>);<br><span class="hljs-keyword">var</span> content = { key: <span class="hljs-string">'value'</span> };<br><span class="hljs-keyword">var</span> zip = <span class="hljs-keyword">new</span> JSZip();<br>zip.file(<span class="hljs-string">'content.obj'</span>, <span class="hljs-built_in">JSON</span>.stringify(content));<br><span class="hljs-keyword">var</span> opts = {<br>    compression: <span class="hljs-string">'deflate'</span>, compressionOptions: { level: <span class="hljs-number">2</span> }, type: <span class="hljs-string">'base64'</span><br>};<br><span class="hljs-keyword">return</span> zip.generateAsync(opts).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{<br>    Util_1.default.test(<span class="hljs-string">'Dataset created '</span>);<br>    Util_1.default.test(data);<br>    <span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> DatasetController_1.default();<br>    controller.process(<span class="hljs-string">'courses'</span>, data).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>        chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">"should throw error on zip without any valid data file under courses/"</span>);<br>    }).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{<br>        <span class="hljs-keyword">throw</span> err;<br>    });<br>}).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">"should throw error on zip without any valid data file under courses/"</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">true</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3167232c-a7c5-4f05-a07f-32a49f544d6f" class="list-group-item test failed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should be able to process a rooms zip
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3167232c-a7c5-4f05-a07f-32a49f544d6f > .test-code.collapse">Code</button>
              <span class="test-duration ">340 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
            <p class="test-error-message">AssertionError: expected [ Array(16) ] to deeply equal [ Array(16) ]
              <button class="btn btn-link btn-sm toggle-btn toggle-stack collapsed" data-toggle="collapse" data-target="#3167232c-a7c5-4f05-a07f-32a49f544d6f > .test-error-stack.collapse">Stack</button>
            </p>
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> expectedObj = [<br>    { rooms_fullName: <span class="hljs-string">'Earth Sciences Building'</span>, rooms_shortName: <span class="hljs-string">'ESB'</span>,<br>        rooms_number: <span class="hljs-string">'1012'</span>, rooms_name: <span class="hljs-string">'ESB_1012'</span>,<br>        rooms_address: <span class="hljs-string">'2207 Main Mall'</span>,<br>        rooms_lat: <span class="hljs-number">49.26274</span>, rooms_lon: -<span class="hljs-number">123.25224</span>, rooms_seats: <span class="hljs-number">150</span>,<br>        rooms_type: <span class="hljs-string">'Tiered Large Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Hybrid Furniture'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/ESB-1012'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Earth Sciences Building'</span>, rooms_shortName: <span class="hljs-string">'ESB'</span>,<br>        rooms_number: <span class="hljs-string">'1013'</span>, rooms_name: <span class="hljs-string">'ESB_1013'</span>,<br>        rooms_address: <span class="hljs-string">'2207 Main Mall'</span>,<br>        rooms_lat: <span class="hljs-number">49.26274</span>, rooms_lon: -<span class="hljs-number">123.25224</span>, rooms_seats: <span class="hljs-number">350</span>,<br>        rooms_type: <span class="hljs-string">'Tiered Large Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Fixed Tablets'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/ESB-1013'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Earth Sciences Building'</span>, rooms_shortName: <span class="hljs-string">'ESB'</span>,<br>        rooms_number: <span class="hljs-string">'2012'</span>, rooms_name: <span class="hljs-string">'ESB_2012'</span>,<br>        rooms_address: <span class="hljs-string">'2207 Main Mall'</span>,<br>        rooms_lat: <span class="hljs-number">49.26274</span>, rooms_lon: -<span class="hljs-number">123.25224</span>, rooms_seats: <span class="hljs-number">80</span>,<br>        rooms_type: <span class="hljs-string">'Tiered Large Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Fixed Tables/Movable Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/ESB-2012'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Hugh Dempster Pavilion'</span>, rooms_shortName: <span class="hljs-string">'DMP'</span>,<br>        rooms_number: <span class="hljs-string">'101'</span>, rooms_name: <span class="hljs-string">'DMP_101'</span>,<br>        rooms_address: <span class="hljs-string">'6245 Agronomy Road V6T 1Z4'</span>,<br>        rooms_lat: <span class="hljs-number">49.26125</span>, rooms_lon: -<span class="hljs-number">123.24807</span>, rooms_seats: <span class="hljs-number">40</span>,<br>        rooms_type: <span class="hljs-string">'Small Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tables &amp; Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/DMP-101'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Hugh Dempster Pavilion'</span>, rooms_shortName: <span class="hljs-string">'DMP'</span>,<br>        rooms_number: <span class="hljs-string">'110'</span>, rooms_name: <span class="hljs-string">'DMP_110'</span>,<br>        rooms_address: <span class="hljs-string">'6245 Agronomy Road V6T 1Z4'</span>,<br>        rooms_lat: <span class="hljs-number">49.26125</span>, rooms_lon: -<span class="hljs-number">123.24807</span>, rooms_seats: <span class="hljs-number">120</span>,<br>        rooms_type: <span class="hljs-string">'Tiered Large Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Fixed Tables/Movable Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/DMP-110'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Hugh Dempster Pavilion'</span>, rooms_shortName: <span class="hljs-string">'DMP'</span>,<br>        rooms_number: <span class="hljs-string">'201'</span>, rooms_name: <span class="hljs-string">'DMP_201'</span>,<br>        rooms_address: <span class="hljs-string">'6245 Agronomy Road V6T 1Z4'</span>,<br>        rooms_lat: <span class="hljs-number">49.26125</span>, rooms_lon: -<span class="hljs-number">123.24807</span>, rooms_seats: <span class="hljs-number">40</span>,<br>        rooms_type: <span class="hljs-string">'Small Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tables &amp; Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/DMP-201'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Hugh Dempster Pavilion'</span>, rooms_shortName: <span class="hljs-string">'DMP'</span>,<br>        rooms_number: <span class="hljs-string">'301'</span>, rooms_name: <span class="hljs-string">'DMP_301'</span>,<br>        rooms_address: <span class="hljs-string">'6245 Agronomy Road V6T 1Z4'</span>,<br>        rooms_lat: <span class="hljs-number">49.26125</span>, rooms_lon: -<span class="hljs-number">123.24807</span>, rooms_seats: <span class="hljs-number">80</span>,<br>        rooms_type: <span class="hljs-string">'Tiered Large Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Fixed Tables/Movable Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/DMP-301'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Hugh Dempster Pavilion'</span>, rooms_shortName: <span class="hljs-string">'DMP'</span>,<br>        rooms_number: <span class="hljs-string">'310'</span>, rooms_name: <span class="hljs-string">'DMP_310'</span>,<br>        rooms_address: <span class="hljs-string">'6245 Agronomy Road V6T 1Z4'</span>,<br>        rooms_lat: <span class="hljs-number">49.26125</span>, rooms_lon: -<span class="hljs-number">123.24807</span>, rooms_seats: <span class="hljs-number">160</span>,<br>        rooms_type: <span class="hljs-string">'Tiered Large Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Fixed Tables/Movable Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/DMP-310'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Mathematics'</span>, rooms_shortName: <span class="hljs-string">'MATH'</span>,<br>        rooms_number: <span class="hljs-string">'100'</span>, rooms_name: <span class="hljs-string">'MATH_100'</span>,<br>        rooms_address: <span class="hljs-string">'1984 Mathematics Road'</span>,<br>        rooms_lat: <span class="hljs-number">49.28273</span>, rooms_lon: -<span class="hljs-number">123.12074</span>, rooms_seats: <span class="hljs-number">224</span>,<br>        rooms_type: <span class="hljs-string">'Tiered Large Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Fixed Tablets'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/MATH-100'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Mathematics'</span>, rooms_shortName: <span class="hljs-string">'MATH'</span>,<br>        rooms_number: <span class="hljs-string">'102'</span>, rooms_name: <span class="hljs-string">'MATH_102'</span>,<br>        rooms_address: <span class="hljs-string">'1984 Mathematics Road'</span>,<br>        rooms_lat: <span class="hljs-number">49.28273</span>, rooms_lon: -<span class="hljs-number">123.12074</span>, rooms_seats: <span class="hljs-number">60</span>,<br>        rooms_type: <span class="hljs-string">'Small Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tables &amp; Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/MATH-102'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Mathematics'</span>, rooms_shortName: <span class="hljs-string">'MATH'</span>,<br>        rooms_number: <span class="hljs-string">'104'</span>, rooms_name: <span class="hljs-string">'MATH_104'</span>,<br>        rooms_address: <span class="hljs-string">'1984 Mathematics Road'</span>,<br>        rooms_lat: <span class="hljs-number">49.28273</span>, rooms_lon: -<span class="hljs-number">123.12074</span>, rooms_seats: <span class="hljs-number">48</span>,<br>        rooms_type: <span class="hljs-string">'Open Design General Purpose'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tables &amp; Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/MATH-104'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Mathematics'</span>, rooms_shortName: <span class="hljs-string">'MATH'</span>,<br>        rooms_number: <span class="hljs-string">'105'</span>, rooms_name: <span class="hljs-string">'MATH_105'</span>,<br>        rooms_address: <span class="hljs-string">'1984 Mathematics Road'</span>,<br>        rooms_lat: <span class="hljs-number">49.28273</span>, rooms_lon: -<span class="hljs-number">123.12074</span>, rooms_seats: <span class="hljs-number">30</span>,<br>        rooms_type: <span class="hljs-string">'Open Design General Purpose'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tablets'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/MATH-105'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Mathematics'</span>, rooms_shortName: <span class="hljs-string">'MATH'</span>,<br>        rooms_number: <span class="hljs-string">'202'</span>, rooms_name: <span class="hljs-string">'MATH_202'</span>,<br>        rooms_address: <span class="hljs-string">'1984 Mathematics Road'</span>,<br>        rooms_lat: <span class="hljs-number">49.28273</span>, rooms_lon: -<span class="hljs-number">123.12074</span>, rooms_seats: <span class="hljs-number">30</span>,<br>        rooms_type: <span class="hljs-string">'Small Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tablets'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/MATH-202'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Mathematics'</span>, rooms_shortName: <span class="hljs-string">'MATH'</span>,<br>        rooms_number: <span class="hljs-string">'203'</span>, rooms_name: <span class="hljs-string">'MATH_203'</span>,<br>        rooms_address: <span class="hljs-string">'1984 Mathematics Road'</span>,<br>        rooms_lat: <span class="hljs-number">49.28273</span>, rooms_lon: -<span class="hljs-number">123.12074</span>, rooms_seats: <span class="hljs-number">48</span>,<br>        rooms_type: <span class="hljs-string">'Open Design General Purpose'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tables &amp; Chairs'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/MATH-203'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Mathematics'</span>, rooms_shortName: <span class="hljs-string">'MATH'</span>,<br>        rooms_number: <span class="hljs-string">'204'</span>, rooms_name: <span class="hljs-string">'MATH_204'</span>,<br>        rooms_address: <span class="hljs-string">'1984 Mathematics Road'</span>,<br>        rooms_lat: <span class="hljs-number">49.28273</span>, rooms_lon: -<span class="hljs-number">123.12074</span>, rooms_seats: <span class="hljs-number">30</span>,<br>        rooms_type: <span class="hljs-string">'Open Design General Purpose'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tablets'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/MATH-204'</span> },<br>    { rooms_fullName: <span class="hljs-string">'Mathematics'</span>, rooms_shortName: <span class="hljs-string">'MATH'</span>,<br>        rooms_number: <span class="hljs-string">'225'</span>, rooms_name: <span class="hljs-string">'MATH_225'</span>,<br>        rooms_address: <span class="hljs-string">'1984 Mathematics Road'</span>,<br>        rooms_lat: <span class="hljs-number">49.28273</span>, rooms_lon: -<span class="hljs-number">123.12074</span>, rooms_seats: <span class="hljs-number">25</span>,<br>        rooms_type: <span class="hljs-string">'Small Group'</span>, rooms_furniture: <span class="hljs-string">'Classroom-Movable Tablets'</span>,<br>        rooms_href: <span class="hljs-string">'http://students.ubc.ca/campus/discover/buildings-and-classrooms/room/MATH-225'</span> },<br>];<br>Util_1.default.test(<span class="hljs-string">"Reading test zip file"</span>);<br><span class="hljs-keyword">var</span> id = <span class="hljs-string">'rooms'</span>;<br><span class="hljs-keyword">var</span> content = fs.readFileSync(<span class="hljs-string">"./rooms-small.zip"</span>).toString(<span class="hljs-string">'base64'</span>);<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> DatasetController_1.default();<br>Util_1.default.test(<span class="hljs-string">"Finished reading test zip file, parsing zip..."</span>);<br><span class="hljs-keyword">return</span> controller.process(id, content).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resCode</span>) </span>{<br>    <span class="hljs-keyword">return</span> controller.getDatasets().then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">datasets</span>) </span>{<br>        chai_1.expect(datasets[id]).to.deep.equal(expectedObj);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
          <div class="test-error-stack collapse">
            <pre><code class="hljs small">AssertionError: expected [ Array(16) ] to deeply equal [ Array(16) ]<br>    at Assertion.assertEqual (node_modules/chai/lib/chai/core/assertions.js:485:19)<br>    at Assertion.ctx.(anonymous function) [as equal] (node_modules/chai/lib/chai/utils/addMethod.js:41:25)<br>    at test/DatasetControllerSpec.js:141:53<br>    at process._tickCallback (internal/process/next_tick.js:103:7)</code></pre>
          </div>
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="106aab29-30e5-4fd5-ab78-43a95b630459" class="suite has-tests has-passed">
            <h3 class="suite-title">InsightFacade</h3>
            <h5 class="suite-filename">/test/InsightFacadeSpec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="106aab29-30e5-4fd5-ab78-43a95b630459" class="suite-chart" width="50" height="50" data-total-passes="7" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">3 ms</li>
                <li class="suite-summary-item tests">7</li>
                <li class="suite-summary-item passed">7</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#106aab29-30e5-4fd5-ab78-43a95b630459-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="106aab29-30e5-4fd5-ab78-43a95b630459-test-list" class="list-group test-list collapse in">
                    <div id="58c9eb1a-7152-4906-bfae-ab35eec378ef" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              removeDataset::Should delete datasets
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#58c9eb1a-7152-4906-bfae-ab35eec378ef > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> datasetController = <span class="hljs-keyword">new</span> DatasetController_1.default();<br><span class="hljs-keyword">var</span> insightFacade = <span class="hljs-keyword">new</span> InsightFacade_1.default;<br>Util_1.default.test(<span class="hljs-string">'InsightFacade.removeDataset tests'</span>);<br>chai_1.expect(insightFacade.removeDataset(<span class="hljs-string">'courses'</span>)) != <span class="hljs-literal">null</span>;</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8a863eff-0b4e-4f51-a86f-95194efd2932" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              addDataset::(&#x27;InsightFacade::removeDataset(..) - ERROR: &#x27; + err.message
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8a863eff-0b4e-4f51-a86f-95194efd2932 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> datasetController = <span class="hljs-keyword">new</span> DatasetController_1.default();<br>    <span class="hljs-keyword">var</span> insightFacade = <span class="hljs-keyword">new</span> InsightFacade_1.default;<br>    insightFacade.addDataset(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);<br>}<br><span class="hljs-keyword">catch</span> (reject) {<br>    chai_1.expect(reject);<br>}</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5c199ec5-3c0c-4619-8205-79d07ccf6239" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              performQuery::(&#x27;InsightFacade::performQuery(..) - ERROR: &#x27; + err.message
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5c199ec5-3c0c-4619-8205-79d07ccf6239 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"class_id"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"MAX"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> insightFacade = <span class="hljs-keyword">new</span> InsightFacade_1.default;<br>    insightFacade.performQuery(query);<br>}<br><span class="hljs-keyword">catch</span> (reject) {<br>    chai_1.expect(reject);<br>}</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="db1905c0-f248-4b44-ba20-835e815e47c0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              PerformQuery()::Should reject with 400 error
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#db1905c0-f248-4b44-ba20-835e815e47c0 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> insightFacade = <span class="hljs-keyword">new</span> InsightFacade_1.default;<br>    insightFacade.removeDataset(<span class="hljs-string">'class'</span>);<br>}<br><span class="hljs-keyword">catch</span> (reject) {<br>    chai_1.expect(reject);<br>}</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9bbb77c1-f9f2-4bca-9ed6-1688440c0cc5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deleteDataset()::Should reject with 400 error
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9bbb77c1-f9f2-4bca-9ed6-1688440c0cc5 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage, 'errorCase"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    <span class="hljs-keyword">var</span> insightFacade = <span class="hljs-keyword">new</span> InsightFacade_1.default;<br>    insightFacade.performQuery(query);<br>}<br><span class="hljs-keyword">catch</span> (reject) {<br>    chai_1.expect(reject);<br>}</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="703a6d42-f0b3-43b2-9524-4edef36a994d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deleteDataset()::Should reject with 400 error
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#703a6d42-f0b3-43b2-9524-4edef36a994d > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage, 'courses_nonsense"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_nothere"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    <span class="hljs-keyword">var</span> insightFacade = <span class="hljs-keyword">new</span> InsightFacade_1.default;<br>    insightFacade.performQuery(query);<br>}<br><span class="hljs-keyword">catch</span> (reject) {<br>    chai_1.expect(reject);<br>}</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="15314a70-f1a5-483d-9117-9ab2de7c085a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deleteDataset()::Should reject with 400 error
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#15314a70-f1a5-483d-9117-9ab2de7c085a > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage, 'courses_nonsense"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_id"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    <span class="hljs-keyword">var</span> insightFacade = <span class="hljs-keyword">new</span> InsightFacade_1.default;<br>    insightFacade.performQuery(query);<br>}<br><span class="hljs-keyword">catch</span> (reject) {<br>    chai_1.expect(reject);<br>}</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="178888dc-84f3-400b-9cad-22afb41a02b4" class="suite has-tests has-passed">
            <h3 class="suite-title">QueryController</h3>
            <h5 class="suite-filename">/test/QueryControllerSpec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="178888dc-84f3-400b-9cad-22afb41a02b4" class="suite-chart" width="50" height="50" data-total-passes="60" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">47 ms</li>
                <li class="suite-summary-item tests">60</li>
                <li class="suite-summary-item passed">60</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#178888dc-84f3-400b-9cad-22afb41a02b4-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="178888dc-84f3-400b-9cad-22afb41a02b4-test-list" class="list-group test-list collapse in">
                    <div id="bb99a935-0dd1-46f5-8273-c7a46ef2e45a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return a StringFilter parsed object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bb99a935-0dd1-46f5-8273-c7a46ef2e45a > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } };<br><span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>Util_1.default.test(<span class="hljs-string">'Parsed filter: '</span> + <span class="hljs-built_in">JSON</span>.stringify(filter));<br>chai_1.expect(filter.column).to.equal(<span class="hljs-string">'courses_dept'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'pattern'</span>]).to.equal(<span class="hljs-string">"cpsc"</span>);<br><span class="hljs-keyword">var</span> row1 = { courses_dept: <span class="hljs-string">'adhe'</span> };<br><span class="hljs-keyword">var</span> row2 = { courses_dept: <span class="hljs-string">'cpsc'</span> };<br><span class="hljs-keyword">var</span> row3 = { courses_dept: <span class="hljs-number">1234</span> };<br>chai_1.assert(filter.test(row1) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for adhe == cpsc'</span>);<br>chai_1.assert(filter.test(row2) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true for cpsc == cpsc'</span>);<br>chai_1.assert(filter.test(row3) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for 1234 == cpsc'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a22ac46c-2f93-4bd7-9e51-67d833fdda0b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return a NumberFilter::GT parsed object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a22ac46c-2f93-4bd7-9e51-67d833fdda0b > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"GT"</span>: { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">90</span> } };<br><span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>Util_1.default.test(<span class="hljs-string">'Parsed filter: '</span> + <span class="hljs-built_in">JSON</span>.stringify(filter));<br>chai_1.expect(filter.column).to.equal(<span class="hljs-string">'courses_avg'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'value'</span>]).to.equal(<span class="hljs-number">90</span>);<br><span class="hljs-keyword">var</span> row1 = { courses_avg: <span class="hljs-number">89.99</span> };<br><span class="hljs-keyword">var</span> row2 = { courses_avg: <span class="hljs-number">90.00</span> };<br><span class="hljs-keyword">var</span> row3 = { courses_avg: <span class="hljs-number">90.01</span> };<br><span class="hljs-keyword">var</span> row4 = { courses_avg: <span class="hljs-string">'asdf'</span> };<br>chai_1.assert(filter.test(row1) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for 89.99 &gt; 90'</span>);<br>chai_1.assert(filter.test(row2) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for 90.00 &gt; 90'</span>);<br>chai_1.assert(filter.test(row3) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return false for 90.01 &gt; 90'</span>);<br>chai_1.assert(filter.test(row4) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for asdf &gt; 90'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a2ae8534-1adc-48e7-a639-fb7d05e8c53a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return a NumberFilter::EQ parsed object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a2ae8534-1adc-48e7-a639-fb7d05e8c53a > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"EQ"</span>: { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">90</span> } };<br><span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>Util_1.default.test(<span class="hljs-string">'Parsed filter: '</span> + <span class="hljs-built_in">JSON</span>.stringify(filter));<br>chai_1.expect(filter.column).to.equal(<span class="hljs-string">'courses_avg'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'value'</span>]).to.equal(<span class="hljs-number">90</span>);<br><span class="hljs-keyword">var</span> row1 = { courses_avg: <span class="hljs-number">89.99</span> };<br><span class="hljs-keyword">var</span> row2 = { courses_avg: <span class="hljs-number">90.00</span> };<br><span class="hljs-keyword">var</span> row3 = { courses_avg: <span class="hljs-number">90.01</span> };<br><span class="hljs-keyword">var</span> row4 = { courses_avg: <span class="hljs-string">'asdf'</span> };<br>chai_1.assert(filter.test(row1) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for 89.99 == 90'</span>);<br>chai_1.assert(filter.test(row2) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true for 90.00 == 90'</span>);<br>chai_1.assert(filter.test(row3) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for 90.01 == 90'</span>);<br>chai_1.assert(filter.test(row4) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for asdf == 90'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f7d0aaf2-e385-4dac-8e9c-a8978ac513a9" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return a NumberFilter::LT parsed object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f7d0aaf2-e385-4dac-8e9c-a8978ac513a9 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"LT"</span>: { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">90</span> } };<br><span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>Util_1.default.test(<span class="hljs-string">'Parsed filter: '</span> + <span class="hljs-built_in">JSON</span>.stringify(filter));<br>chai_1.expect(filter.column).to.equal(<span class="hljs-string">'courses_avg'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'value'</span>]).to.equal(<span class="hljs-number">90</span>);<br><span class="hljs-keyword">var</span> row1 = { courses_avg: <span class="hljs-number">89.99</span> };<br><span class="hljs-keyword">var</span> row2 = { courses_avg: <span class="hljs-number">90.00</span> };<br><span class="hljs-keyword">var</span> row3 = { courses_avg: <span class="hljs-number">90.01</span> };<br><span class="hljs-keyword">var</span> row4 = { courses_avg: <span class="hljs-string">'asdf'</span> };<br>chai_1.assert(filter.test(row1) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true for 89.99 &lt; 90'</span>);<br>chai_1.assert(filter.test(row2) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for 90.00 &lt; 90'</span>);<br>chai_1.assert(filter.test(row3) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for 90.01 &lt; 90'</span>);<br>chai_1.assert(filter.test(row4) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for asdf &lt; 90'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="52405883-5084-4bfa-8d21-72fc4b3804bb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return a LogicFilter::AND parsed object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#52405883-5084-4bfa-8d21-72fc4b3804bb > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> whereObject = {<br>    <span class="hljs-string">"AND"</span>: [<br>        { <span class="hljs-string">"GT"</span>: { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">70</span> } },<br>        { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } }]<br>};<br><span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>Util_1.default.test(<span class="hljs-string">'Parsed filter: '</span> + <span class="hljs-built_in">JSON</span>.stringify(filter));<br>chai_1.expect(filter[<span class="hljs-string">'children'</span>][<span class="hljs-number">0</span>][<span class="hljs-string">'column'</span>]).to.equal(<span class="hljs-string">'courses_avg'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'children'</span>][<span class="hljs-number">0</span>][<span class="hljs-string">'value'</span>]).to.equal(<span class="hljs-number">70</span>);<br>chai_1.expect(filter[<span class="hljs-string">'children'</span>][<span class="hljs-number">1</span>][<span class="hljs-string">'column'</span>]).to.equal(<span class="hljs-string">'courses_dept'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'children'</span>][<span class="hljs-number">1</span>][<span class="hljs-string">'pattern'</span>]).to.equal(<span class="hljs-string">'cpsc'</span>);<br><span class="hljs-keyword">var</span> row1 = { courses_avg: <span class="hljs-number">58</span>, courses_dept: <span class="hljs-string">"adhe"</span> };<br><span class="hljs-keyword">var</span> row2 = { courses_avg: <span class="hljs-number">71</span>, courses_dept: <span class="hljs-string">"adhe"</span> };<br><span class="hljs-keyword">var</span> row3 = { courses_avg: <span class="hljs-number">58</span>, courses_dept: <span class="hljs-string">"cpsc"</span> };<br><span class="hljs-keyword">var</span> row4 = { courses_avg: <span class="hljs-number">72</span>, courses_dept: <span class="hljs-string">"cpsc"</span> };<br><span class="hljs-keyword">var</span> row5 = { courses_avg: <span class="hljs-string">'asdf'</span>, courses_dept: <span class="hljs-string">"asdf"</span> };<br>chai_1.assert(filter.test(row1) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false because 58 &gt; 70 and adhe == cpsc are not both true'</span>);<br>chai_1.assert(filter.test(row2) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false because 71 &gt; 70 and adhe == cpsc are not both true'</span>);<br>chai_1.assert(filter.test(row3) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false because 58 &gt; 70 and cpsc == cpsc are not both true'</span>);<br>chai_1.assert(filter.test(row4) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true because 71 &gt; 70 and cpsc == cpsc are both true'</span>);<br>chai_1.assert(filter.test(row5) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false because asdf &gt; 70 and asdf == cpsc are not both true'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4e8371a9-f370-4e57-912e-043436b0d5b2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return a StringFilter::OR parsed object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4e8371a9-f370-4e57-912e-043436b0d5b2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> whereObject = {<br>    <span class="hljs-string">"OR"</span>: [<br>        { <span class="hljs-string">"GT"</span>: { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">70</span> } },<br>        { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } }]<br>};<br><span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>Util_1.default.test(<span class="hljs-string">'Parsed filter: '</span> + <span class="hljs-built_in">JSON</span>.stringify(filter));<br>chai_1.expect(filter[<span class="hljs-string">'children'</span>][<span class="hljs-number">0</span>][<span class="hljs-string">'column'</span>]).to.equal(<span class="hljs-string">'courses_avg'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'children'</span>][<span class="hljs-number">0</span>][<span class="hljs-string">'value'</span>]).to.equal(<span class="hljs-number">70</span>);<br>chai_1.expect(filter[<span class="hljs-string">'children'</span>][<span class="hljs-number">1</span>][<span class="hljs-string">'column'</span>]).to.equal(<span class="hljs-string">'courses_dept'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'children'</span>][<span class="hljs-number">1</span>][<span class="hljs-string">'pattern'</span>]).to.equal(<span class="hljs-string">'cpsc'</span>);<br><span class="hljs-keyword">var</span> row1 = { courses_avg: <span class="hljs-number">58</span>, courses_dept: <span class="hljs-string">"adhe"</span> };<br><span class="hljs-keyword">var</span> row2 = { courses_avg: <span class="hljs-number">71</span>, courses_dept: <span class="hljs-string">"adhe"</span> };<br><span class="hljs-keyword">var</span> row3 = { courses_avg: <span class="hljs-number">58</span>, courses_dept: <span class="hljs-string">"cpsc"</span> };<br><span class="hljs-keyword">var</span> row4 = { courses_avg: <span class="hljs-number">72</span>, courses_dept: <span class="hljs-string">"cpsc"</span> };<br><span class="hljs-keyword">var</span> row5 = { courses_avg: <span class="hljs-string">'asdf'</span>, courses_dept: <span class="hljs-string">"asdf"</span> };<br>chai_1.assert(filter.test(row1) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false because 58 &gt; 70 and adhe == cpsc are both false'</span>);<br>chai_1.assert(filter.test(row2) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true because 71 &gt; 70 and adhe == cpsc are not both false'</span>);<br>chai_1.assert(filter.test(row3) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true because 58 &gt; 70 and cpsc == cpsc are not both false'</span>);<br>chai_1.assert(filter.test(row4) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true because 72 &gt; 70 and cpsc == cpsc are not both false'</span>);<br>chai_1.assert(filter.test(row5) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false because asdf &gt; 70 and asdf == cpsc are both false'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8b8976b3-4099-4375-8521-2a8e23064be0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return a NegationFilter parsed object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8b8976b3-4099-4375-8521-2a8e23064be0 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"NOT"</span>: { <span class="hljs-string">"LT"</span>: { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">90</span> } } };<br><span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>Util_1.default.test(<span class="hljs-string">'Parsed filter: '</span> + <span class="hljs-built_in">JSON</span>.stringify(filter));<br>chai_1.expect(filter[<span class="hljs-string">'child'</span>][<span class="hljs-string">'column'</span>]).to.equal(<span class="hljs-string">'courses_avg'</span>);<br>chai_1.expect(filter[<span class="hljs-string">'child'</span>][<span class="hljs-string">'value'</span>]).to.equal(<span class="hljs-number">90</span>);<br><span class="hljs-keyword">var</span> row1 = { courses_avg: <span class="hljs-number">89.99</span> };<br><span class="hljs-keyword">var</span> row2 = { courses_avg: <span class="hljs-number">90.00</span> };<br><span class="hljs-keyword">var</span> row3 = { courses_avg: <span class="hljs-number">90.01</span> };<br><span class="hljs-keyword">var</span> row4 = { courses_avg: <span class="hljs-string">'asdf'</span> };<br>chai_1.assert(filter.test(row1) === <span class="hljs-literal">false</span>, <span class="hljs-string">'should return false for !(89.99 &lt; 90)'</span>);<br>chai_1.assert(filter.test(row2) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true for !(90.00 &lt; 90)'</span>);<br>chai_1.assert(filter.test(row3) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true for !(90.01 &lt; 90)'</span>);<br>chai_1.assert(filter.test(row4) === <span class="hljs-literal">true</span>, <span class="hljs-string">'should return true for !(asdf &lt; 90)'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="22238eff-979d-413d-8481-4d0b10bb32e7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return error for null WHERE Object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#22238eff-979d-413d-8481-4d0b10bb32e7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'Filter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'Filter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e8a10c64-ff50-49f7-b160-58231a482cc7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return error for multiple keys in WHERE
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e8a10c64-ff50-49f7-b160-58231a482cc7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> }, <span class="hljs-string">"NOT"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'Filter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'Filter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="309c1db6-52ac-4d46-bb54-bbd67d3dfdd7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return error for unknown key in WHERE
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#309c1db6-52ac-4d46-bb54-bbd67d3dfdd7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"HOW"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.Filter.parse(<span class="hljs-string">''</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'Filter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'Filter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4060025d-43cf-4ac0-a787-b059d01dbce8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return error for undefined WHERE Object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4060025d-43cf-4ac0-a787-b059d01dbce8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = <span class="hljs-literal">undefined</span>;<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.LogicFilter.parse(<span class="hljs-string">'AND'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'Filter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'Filter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f151a21a-8cea-4513-8ac9-0585dac73b9c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              LogicFilter should return error if not given array
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f151a21a-8cea-4513-8ac9-0585dac73b9c > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">'IS'</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.LogicFilter.parse(<span class="hljs-string">'AND'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'LogicFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'LogicFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8bbe6302-5465-461f-b900-8b34761ff83b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              LogicFilter should return error if given empty array
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8bbe6302-5465-461f-b900-8b34761ff83b > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = [];<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.LogicFilter.parse(<span class="hljs-string">'AND'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'LogicFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'LogicFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9629f325-3be1-4f07-8433-6f6feae0a889" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              LogicFilter should return error for unknown key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9629f325-3be1-4f07-8433-6f6feae0a889 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = [{ <span class="hljs-string">"GT"</span>: { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">70</span> } }];<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.LogicFilter.parse(<span class="hljs-string">'XOR'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'LogicFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'LogicFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4fe829fc-4ce6-457b-8b62-47f942014c3c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return error if leaf filter has no key-value pairs
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4fe829fc-4ce6-457b-8b62-47f942014c3c > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = [{ <span class="hljs-string">"GT"</span>: {} }, { <span class="hljs-string">"IS"</span>: {} }];<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.LogicFilter.parse(<span class="hljs-string">'AND'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'LogicFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'LogicFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1f4fa0d8-152c-4ddc-a83f-101dc76b19a1" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should return error if LogicFilter.parse() given invalid key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1f4fa0d8-152c-4ddc-a83f-101dc76b19a1 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = [{ <span class="hljs-string">"GT"</span>: { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">70</span> } }, { <span class="hljs-string">"NOT"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"adhe"</span> } } }];<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.LogicFilter.parse(<span class="hljs-string">'notValid'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'LogicFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'LogicFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a02dc88b-8427-4452-b56e-f8b240fdfed7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              NumberFilter:: Should return error for empty key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a02dc88b-8427-4452-b56e-f8b240fdfed7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-string">"90"</span> };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.NumberFilter.parse(<span class="hljs-string">''</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'LogicFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'LogicFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7ea347f5-9e36-42f4-9017-dda107e11e00" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              NumberFilter:: Should return error for undefined Object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7ea347f5-9e36-42f4-9017-dda107e11e00 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.NumberFilter.parse(<span class="hljs-string">'LT'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'LogicFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'LogicFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9412a86f-96f5-46bf-816e-7dd303e44649" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              NumberFilter:: Should return error for NaN
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9412a86f-96f5-46bf-816e-7dd303e44649 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-string">"abc"</span> };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.NumberFilter.parse(<span class="hljs-string">'LT'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'NumberFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'NumberFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="de049f37-e9a0-4fdb-8004-521e567d1314" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              NumberFilter:: Should return error for having more than one key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#de049f37-e9a0-4fdb-8004-521e567d1314 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">90</span>, <span class="hljs-string">"courses_audit"</span>: <span class="hljs-number">10</span> };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.NumberFilter.parse(<span class="hljs-string">'LT'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'NumberFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'NumberFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ed5b839c-9243-45c3-8311-c126b24e45d6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              NumberFilter:: Should return error for undefined value
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ed5b839c-9243-45c3-8311-c126b24e45d6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-literal">undefined</span> };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.NumberFilter.parse(<span class="hljs-string">'LT'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'NumberFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'NumberFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6095c84c-84d7-4236-b4d8-7adcedb2239b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              NumberFilter:: Should return error for unknown key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6095c84c-84d7-4236-b4d8-7adcedb2239b > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"courses_avg"</span>: <span class="hljs-number">90</span> };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.NumberFilter.parse(<span class="hljs-string">'unknownKey'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'NumberFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'NumberFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="daff2bae-d327-4d88-bd82-00906c4c449c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              StringFilter:: Should return error for undefined Object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#daff2bae-d327-4d88-bd82-00906c4c449c > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.StringFilter.parse(<span class="hljs-string">'LT'</span>, whereObject);<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'StringFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'NumberFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c2e1ffdd-c7ca-4861-b16d-d51d93f8a920" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              StringFilter:: Should return error for more than one key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c2e1ffdd-c7ca-4861-b16d-d51d93f8a920 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span>, <span class="hljs-string">"courses_avg"</span>: <span class="hljs-string">"90"</span> };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.StringFilter.parse(<span class="hljs-string">'IS'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'StringFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'StringFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0b16cba1-c949-4371-86ec-f7b60fff7027" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              StringFilter:: Should return error if no key-value pair given
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0b16cba1-c949-4371-86ec-f7b60fff7027 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = {};<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.StringFilter.parse(<span class="hljs-string">'IS'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'StringFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'StringFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="deae8791-a6c9-4475-b40e-54b70bdc1ff5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              StringFilter:: Should return error for unknown key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#deae8791-a6c9-4475-b40e-54b70bdc1ff5 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"courses_key"</span>: <span class="hljs-string">""</span> };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.StringFilter.parse(<span class="hljs-string">'NO'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'StringFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'StringFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d9c5715d-1540-4230-9df5-cfad6fd17b33" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              NegationFilter:: Should return error for null
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d9c5715d-1540-4230-9df5-cfad6fd17b33 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.NegationFilter.parse(<span class="hljs-string">'NOT'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'NegationFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'NegationFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="cf962142-eb17-4233-81b9-f4e4206d20b1" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              NegationFilter:: Should return error for unknown key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#cf962142-eb17-4233-81b9-f4e4206d20b1 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> whereObject = { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> };<br>    <span class="hljs-keyword">var</span> filter = QueryController_2.NegationFilter.parse(<span class="hljs-string">'WHO'</span>, whereObject);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'NegationFilter.parse() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'NegationFilter.parse() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="11808ad5-1436-4bb3-8bd8-83c2dea91ff7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::query.GET should be an array of string
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#11808ad5-1436-4bb3-8bd8-83c2dea91ff7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br>success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-number">78</span>, <span class="hljs-number">99</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);<br>success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: <span class="hljs-string">'notArray'</span>,<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="09276a18-2068-4942-95dc-3686b6deb9cf" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::query.ORDER should be string or object and have key(s) in GET
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#09276a18-2068-4942-95dc-3686b6deb9cf > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br>success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"ORDER"</span>: <span class="hljs-string">'courses_audit'</span>,<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);<br>success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"notInGET"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);<br>success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: <span class="hljs-number">98</span>,<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4672c951-3008-4fc5-92f1-49312be74fb7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::GROUP should be array not object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4672c951-3008-4fc5-92f1-49312be74fb7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courses_dept"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: { <span class="hljs-string">'GROUP'</span>: <span class="hljs-number">768</span> },<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e58310e4-e8ce-4dd0-9764-687e03f0aa6d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::GROUP array should not be empty
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e58310e4-e8ce-4dd0-9764-687e03f0aa6d > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e5370e40-76ea-425d-b82b-7b7ba42e456a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::GROUP should be array of string not array of object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e5370e40-76ea-425d-b82b-7b7ba42e456a > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [{ <span class="hljs-string">"okay"</span>: <span class="hljs-number">789</span> }],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="912c5186-247e-4cf4-b6fd-40e585f81e2b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: GROUP should be array of string not array of number
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#912c5186-247e-4cf4-b6fd-40e585f81e2b > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-number">76</span>, <span class="hljs-number">77</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="41097701-5364-4823-9a1d-77d19a3d19bf" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::GET keys should be in GROUP or APPLY
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#41097701-5364-4823-9a1d-77d19a3d19bf > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_audit"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="92b940c9-d905-4b3f-8127-16906eb8bc64" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::APPLY should be array not object
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#92b940c9-d905-4b3f-8127-16906eb8bc64 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: {},<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d849738f-fcc2-4462-a19e-33594bccc286" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: APPLY should be array not number
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d849738f-fcc2-4462-a19e-33594bccc286 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: <span class="hljs-number">76</span>,<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0631b55a-eb25-41a2-8d61-9088e532df1b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::APPLY should be array of object not array of string
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0631b55a-eb25-41a2-8d61-9088e532df1b > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"APPLY"</span>: [<span class="hljs-string">'notObject'</span>],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c2c82421-a56f-4ec8-b786-f18f1170364b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: APPLY should be array of object not array of number
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c2c82421-a56f-4ec8-b786-f18f1170364b > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [<span class="hljs-number">76</span>, <span class="hljs-number">88</span>],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6da8d828-d5ff-4b4d-9315-38c6a5cd26aa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::GROUP and APPLY should be present if extra columns provided in GET
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6da8d828-d5ff-4b4d-9315-38c6a5cd26aa > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b40a4d28-d7fb-480b-a0ba-159f69b110d5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::APPLY should be present if GROUP is present
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b40a4d28-d7fb-480b-a0ba-159f69b110d5 > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d4b53ee8-c933-43d0-aabe-c0dedbe90511" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::GROUP should be present if APPLY is present
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d4b53ee8-c933-43d0-aabe-c0dedbe90511 > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">try</span> {<br>    <span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br>    <span class="hljs-keyword">var</span> query = {<br>        <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>        <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>        <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>        <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>        <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>    };<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0f345725-4a72-439d-8e27-ba7888107f0d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: isValid expected to be false when null
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0f345725-4a72-439d-8e27-ba7888107f0d > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = <span class="hljs-literal">null</span>;<br>chai_1.expect(QueryController_1.default.isValid(query)).to.be.false;</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3d70edca-5fb5-4dff-9e60-3654b101dab6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: isValid expected to be true when not null
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3d70edca-5fb5-4dff-9e60-3654b101dab6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"notInGET"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>};<br>chai_1.expect(QueryController_1.default.isValid(query)).to.be.true;</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fb79a594-5165-4151-a06c-8983d7c75af9" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: ORDER keys should be array
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fb79a594-5165-4151-a06c-8983d7c75af9 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: <span class="hljs-string">"notInGET"</span> },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="817ed5d7-651e-4a5f-8ae5-19c46200399d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: ORDER keys array should not be empty
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#817ed5d7-651e-4a5f-8ae5-19c46200399d > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8dbb7773-a63b-4d23-8c54-c461321e6b2a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: ORDER keys should be in GET
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8dbb7773-a63b-4d23-8c54-c461321e6b2a > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">'asdf'</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e46f6db8-26ed-457f-bd7d-4316cb034740" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: ORDER keys should be array of string
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e46f6db8-26ed-457f-bd7d-4316cb034740 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-number">123</span>, <span class="hljs-number">456</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f5585648-57b0-4786-bffd-3ec3d6997327" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: ORDER direction should be UP or DOWN
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f5585648-57b0-4786-bffd-3ec3d6997327 > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"asdf"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">'courses_id'</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c97e8bbe-d9d4-455a-af53-12aa8e49a1a6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: APPLY should not have duplicate key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c97e8bbe-d9d4-455a-af53-12aa8e49a1a6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }, { <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3f2b704b-5bfe-480c-929b-7172a879eaf8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: APPLY should not have duplicate key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3f2b704b-5bfe-480c-929b-7172a879eaf8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }, { <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"MAX"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3ff6dd8c-6a09-4d0f-a3d2-d670b2c9ca4f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: APPLY should be present if non-underscore key in GET
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3ff6dd8c-6a09-4d0f-a3d2-d670b2c9ca4f > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="662eca6d-8d4d-48ed-b4b7-567bc8fe9298" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: APPLY should be present if GROUP is present
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#662eca6d-8d4d-48ed-b4b7-567bc8fe9298 > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="bbb93e9c-ee6c-4fae-b3b5-9c331b2deb7e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController::APPLY should not be present without GROUP
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bbb93e9c-ee6c-4fae-b3b5-9c331b2deb7e > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="00c3a5f1-d730-4b77-8241-8f9a3543623d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: each object in APPLY must have exactly one key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#00c3a5f1-d730-4b77-8241-8f9a3543623d > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"coursesdept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> }, <span class="hljs-string">"courseBlah"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_id"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="91a1e600-a515-476d-a3a9-ec2b8d03f28c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: each object in APPLY must have exactly one operation
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#91a1e600-a515-476d-a3a9-ec2b8d03f28c > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span>, <span class="hljs-string">"MAX"</span>: <span class="hljs-string">"courses_audit"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="dc7c3be0-8947-4e6c-bbdd-a763f11019ea" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: cannot apply MAX to string column
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#dc7c3be0-8947-4e6c-bbdd-a763f11019ea > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"MAX"</span>: <span class="hljs-string">"courses_instructor"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3fa1e0bd-58ce-4d3e-9ca5-66f1d14b818a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: cannot apply operation that is not MAX/MIN/AVG/COUNT
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3fa1e0bd-58ce-4d3e-9ca5-66f1d14b818a > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"LOL"</span>: <span class="hljs-string">"courses_uuid"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ec8d9e53-f822-4730-84e1-4a51ee0ff353" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: WHERE clause must reference columns in dataset
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ec8d9e53-f822-4730-84e1-4a51ee0ff353 > .test-code.collapse">Code</button>
              <span class="test-duration fast">5 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> success = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default(dataset);<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"abcde"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">try</span> {<br>    controller.query(query);<br>    success = <span class="hljs-literal">true</span>;<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(err, <span class="hljs-string">'QueryController::query() should throw error object'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.assert(!success, <span class="hljs-string">'QueryController::query() should not be successful'</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ad1c25b2-6d33-4024-993a-08a038c341d3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              QueryController:: when dataset missing, should return 424 with list of missing dataset
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ad1c25b2-6d33-4024-993a-08a038c341d3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> QueryController_1.default({ <span class="hljs-string">'test'</span>: [] });<br><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span> };<br><span class="hljs-keyword">var</span> result = <span class="hljs-literal">undefined</span>;<br><span class="hljs-keyword">try</span> {<br>    result = controller.query(query);<br>}<br><span class="hljs-keyword">catch</span> (err) {<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'QueryController::query() should not throw error'</span>);<br>    Util_1.default.test(<span class="hljs-string">"Caught error: "</span> + err.message);<br>}<br>chai_1.expect(result).to.deep.equal({ missing: [<span class="hljs-string">'courses'</span>] });</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="b3e8c3e9-a323-45c2-be34-c756022c6cb6" class="suite has-tests has-passed">
            <h3 class="suite-title">Dataset Service</h3>
            <h5 class="suite-filename">/test/ServerDatasetSpec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="b3e8c3e9-a323-45c2-be34-c756022c6cb6" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">4 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#b3e8c3e9-a323-45c2-be34-c756022c6cb6-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="b3e8c3e9-a323-45c2-be34-c756022c6cb6-test-list" class="list-group test-list collapse in">
                    <div id="68238540-29da-46e4-bd64-a041a13b8e00" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should not be able to set a valid zip that does not contain a valid dataset
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#68238540-29da-46e4-bd64-a041a13b8e00 > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> zipContent = <span class="hljs-string">'UEsDBAoAAAAIAAEiJEm/nBg/EQAAAA8AAAALAAAAY29udGVudC5vYmqrVspOrVSyUipLzClNVaoFAFBLAQIUAAoAAAAIAAEiJEm/nBg/EQAAAA8AAAALAAAAAAAAAAAAAAAAAAAAAABjb250ZW50Lm9ialBLBQYAAAAAAQABADkAAAA6AAAAAAA='</span>;<br><span class="hljs-keyword">return</span> insightFacade.addDataset(<span class="hljs-string">'courses'</span>, zipContent).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'should get an error but got success: '</span> + <span class="hljs-built_in">JSON</span>.stringify(result));<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expect 400 error'</span>);<br>    chai_1.assert(<span class="hljs-keyword">typeof</span> result.body[<span class="hljs-string">'error'</span>] == <span class="hljs-string">'string'</span>, <span class="hljs-string">'expect error field in body with error message string'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2470737c-f0b4-45d6-8d1c-c9e723278fd4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should not be able to set a dataset that is not a zip file
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2470737c-f0b4-45d6-8d1c-c9e723278fd4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> zipContent = <span class="hljs-string">'adfadsfad'</span>;<br><span class="hljs-keyword">return</span> insightFacade.addDataset(<span class="hljs-string">'courses'</span>, zipContent).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'should get an error but got success: '</span> + <span class="hljs-built_in">JSON</span>.stringify(result));<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expect 400 error'</span>);<br>    chai_1.assert(<span class="hljs-keyword">typeof</span> result.body[<span class="hljs-string">'error'</span>] == <span class="hljs-string">'string'</span>, <span class="hljs-string">'expect error field in body with error message string'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="31447b11-0fce-4c8d-8158-39158cc71f8d" class="suite has-tests has-passed">
            <h3 class="suite-title">Query Service</h3>
            <h5 class="suite-filename">/test/ServerQuerySpec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="31447b11-0fce-4c8d-8158-39158cc71f8d" class="suite-chart" width="50" height="50" data-total-passes="15" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">1.503 s</li>
                <li class="suite-summary-item tests">15</li>
                <li class="suite-summary-item passed">15</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#31447b11-0fce-4c8d-8158-39158cc71f8d-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="31447b11-0fce-4c8d-8158-39158cc71f8d-test-list" class="list-group test-list collapse in">
                    <div id="ac8f3d82-56be-4833-9cef-cb86df4ecdfb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should be able to find sections with an average &gt; 90
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ac8f3d82-56be-4833-9cef-cb86df4ecdfb > .test-code.collapse">Code</button>
              <span class="test-duration slow">100 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">return</span> insightFacade.performQuery((test[<span class="hljs-string">'query'</span>])).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'successful query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &lt; <span class="hljs-number">400</span>, <span class="hljs-string">'expects 2xx code when promise fulfilled in IInsightFacade.performQuery()'</span>);<br>    Joi.assert(result.body, types);<br>    <span class="hljs-keyword">var</span> json = result.body;<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.result).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    <span class="hljs-keyword">var</span> a = lodash.countBy(json[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> b = lodash.countBy(expectedResult[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> c = lodash.isEqual(a, b);<br>    <span class="hljs-keyword">if</span> (!c) {<br>        Util_1.default.test(<span class="hljs-string">"Expected:"</span>);<br>        <span class="hljs-built_in">console</span>.log(expectedResult[<span class="hljs-string">"result"</span>]);<br>        Util_1.default.test(<span class="hljs-string">"Received:"</span>);<br>        <span class="hljs-built_in">console</span>.log(json[<span class="hljs-string">"result"</span>]);<br>        <span class="hljs-keyword">var</span> zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> b) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>        zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> a) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>    }<br>    chai_1.assert(c, <span class="hljs-string">'results do not contain the same entries'</span>);<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.render).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    chai_1.assert(lodash.isEqual(json[<span class="hljs-string">"render"</span>], expectedResult[<span class="hljs-string">"render"</span>]), <span class="hljs-string">'render should be '</span> + expectedResult[<span class="hljs-string">'render'</span>] + <span class="hljs-string">' but got '</span> + json[<span class="hljs-string">'render'</span>]);<br>    <span class="hljs-keyword">var</span> order = test[<span class="hljs-string">"query"</span>][<span class="hljs-string">"ORDER"</span>];<br>    <span class="hljs-keyword">if</span> (order != <span class="hljs-literal">undefined</span>) {<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> order === <span class="hljs-string">'string'</span>) {<br>            <span class="hljs-keyword">var</span> previous = -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _i = <span class="hljs-number">0</span>, _a = json[<span class="hljs-string">"result"</span>]; _i &lt; _a.length; _i++) {<br>                <span class="hljs-keyword">var</span> entry = _a[_i];<br>                <span class="hljs-keyword">var</span> current = entry[order];<br>                chai_1.assert.isAtMost(previous, current, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>        <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">var</span> previous = {};<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; json[<span class="hljs-string">"result"</span>].length; z++) {<br>                <span class="hljs-keyword">var</span> entry = json[<span class="hljs-string">"result"</span>][z];<br>                <span class="hljs-keyword">var</span> current = {};<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _b = <span class="hljs-number">0</span>, _c = order.keys; _b &lt; _c.length; _b++) {<br>                    <span class="hljs-keyword">var</span> k = _c[_b];<br>                    current[k] = entry[k];<br>                }<br>                <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">0</span>) {<br>                    <span class="hljs-keyword">var</span> comp = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _d = <span class="hljs-number">0</span>, _e = order[<span class="hljs-string">"keys"</span>]; _d &lt; _e.length; _d++) {<br>                        <span class="hljs-keyword">var</span> k = _e[_d];<br>                        <span class="hljs-keyword">if</span> (previous[k] &lt; current[k]) {<br>                            comp = -<span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (previous[k] &gt; current[k]) {<br>                            comp = <span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                    }<br>                    <span class="hljs-keyword">if</span> (order[<span class="hljs-string">"dir"</span>] == <span class="hljs-string">'UP'</span>) {<br>                        chai_1.assert.isAtMost(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                    <span class="hljs-keyword">else</span> {<br>                        chai_1.assert.isAtLeast(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                }<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>    }<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    <span class="hljs-keyword">if</span> (result.code) {<br>        Util_1.default.test(<span class="hljs-string">'Got failure response: '</span>);<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result));<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'failed query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &gt;= <span class="hljs-number">400</span>, <span class="hljs-string">'expects 4xx code when promise rejected in IInsightFacade.performQuery()'</span>);<br>        Joi.assert(result.body, types);<br>    }<br>    <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">throw</span> result;<br>    }<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="71561b09-3fc2-4c7f-af9c-5391e3dddde5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should be able to find sections with an average &gt; 70 and in the adhe department, or with a 90 average in any department
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#71561b09-3fc2-4c7f-af9c-5391e3dddde5 > .test-code.collapse">Code</button>
              <span class="test-duration slow">96 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">return</span> insightFacade.performQuery((test[<span class="hljs-string">'query'</span>])).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'successful query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &lt; <span class="hljs-number">400</span>, <span class="hljs-string">'expects 2xx code when promise fulfilled in IInsightFacade.performQuery()'</span>);<br>    Joi.assert(result.body, types);<br>    <span class="hljs-keyword">var</span> json = result.body;<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.result).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    <span class="hljs-keyword">var</span> a = lodash.countBy(json[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> b = lodash.countBy(expectedResult[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> c = lodash.isEqual(a, b);<br>    <span class="hljs-keyword">if</span> (!c) {<br>        Util_1.default.test(<span class="hljs-string">"Expected:"</span>);<br>        <span class="hljs-built_in">console</span>.log(expectedResult[<span class="hljs-string">"result"</span>]);<br>        Util_1.default.test(<span class="hljs-string">"Received:"</span>);<br>        <span class="hljs-built_in">console</span>.log(json[<span class="hljs-string">"result"</span>]);<br>        <span class="hljs-keyword">var</span> zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> b) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>        zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> a) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>    }<br>    chai_1.assert(c, <span class="hljs-string">'results do not contain the same entries'</span>);<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.render).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    chai_1.assert(lodash.isEqual(json[<span class="hljs-string">"render"</span>], expectedResult[<span class="hljs-string">"render"</span>]), <span class="hljs-string">'render should be '</span> + expectedResult[<span class="hljs-string">'render'</span>] + <span class="hljs-string">' but got '</span> + json[<span class="hljs-string">'render'</span>]);<br>    <span class="hljs-keyword">var</span> order = test[<span class="hljs-string">"query"</span>][<span class="hljs-string">"ORDER"</span>];<br>    <span class="hljs-keyword">if</span> (order != <span class="hljs-literal">undefined</span>) {<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> order === <span class="hljs-string">'string'</span>) {<br>            <span class="hljs-keyword">var</span> previous = -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _i = <span class="hljs-number">0</span>, _a = json[<span class="hljs-string">"result"</span>]; _i &lt; _a.length; _i++) {<br>                <span class="hljs-keyword">var</span> entry = _a[_i];<br>                <span class="hljs-keyword">var</span> current = entry[order];<br>                chai_1.assert.isAtMost(previous, current, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>        <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">var</span> previous = {};<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; json[<span class="hljs-string">"result"</span>].length; z++) {<br>                <span class="hljs-keyword">var</span> entry = json[<span class="hljs-string">"result"</span>][z];<br>                <span class="hljs-keyword">var</span> current = {};<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _b = <span class="hljs-number">0</span>, _c = order.keys; _b &lt; _c.length; _b++) {<br>                    <span class="hljs-keyword">var</span> k = _c[_b];<br>                    current[k] = entry[k];<br>                }<br>                <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">0</span>) {<br>                    <span class="hljs-keyword">var</span> comp = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _d = <span class="hljs-number">0</span>, _e = order[<span class="hljs-string">"keys"</span>]; _d &lt; _e.length; _d++) {<br>                        <span class="hljs-keyword">var</span> k = _e[_d];<br>                        <span class="hljs-keyword">if</span> (previous[k] &lt; current[k]) {<br>                            comp = -<span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (previous[k] &gt; current[k]) {<br>                            comp = <span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                    }<br>                    <span class="hljs-keyword">if</span> (order[<span class="hljs-string">"dir"</span>] == <span class="hljs-string">'UP'</span>) {<br>                        chai_1.assert.isAtMost(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                    <span class="hljs-keyword">else</span> {<br>                        chai_1.assert.isAtLeast(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                }<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>    }<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    <span class="hljs-keyword">if</span> (result.code) {<br>        Util_1.default.test(<span class="hljs-string">'Got failure response: '</span>);<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result));<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'failed query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &gt;= <span class="hljs-number">400</span>, <span class="hljs-string">'expects 4xx code when promise rejected in IInsightFacade.performQuery()'</span>);<br>        Joi.assert(result.body, types);<br>    }<br>    <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">throw</span> result;<br>    }<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="332aa91e-2d84-4557-8556-202b3169ef3a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should be able to find sections of CPSC 310
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#332aa91e-2d84-4557-8556-202b3169ef3a > .test-code.collapse">Code</button>
              <span class="test-duration fast">37 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">return</span> insightFacade.performQuery((test[<span class="hljs-string">'query'</span>])).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'successful query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &lt; <span class="hljs-number">400</span>, <span class="hljs-string">'expects 2xx code when promise fulfilled in IInsightFacade.performQuery()'</span>);<br>    Joi.assert(result.body, types);<br>    <span class="hljs-keyword">var</span> json = result.body;<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.result).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    <span class="hljs-keyword">var</span> a = lodash.countBy(json[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> b = lodash.countBy(expectedResult[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> c = lodash.isEqual(a, b);<br>    <span class="hljs-keyword">if</span> (!c) {<br>        Util_1.default.test(<span class="hljs-string">"Expected:"</span>);<br>        <span class="hljs-built_in">console</span>.log(expectedResult[<span class="hljs-string">"result"</span>]);<br>        Util_1.default.test(<span class="hljs-string">"Received:"</span>);<br>        <span class="hljs-built_in">console</span>.log(json[<span class="hljs-string">"result"</span>]);<br>        <span class="hljs-keyword">var</span> zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> b) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>        zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> a) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>    }<br>    chai_1.assert(c, <span class="hljs-string">'results do not contain the same entries'</span>);<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.render).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    chai_1.assert(lodash.isEqual(json[<span class="hljs-string">"render"</span>], expectedResult[<span class="hljs-string">"render"</span>]), <span class="hljs-string">'render should be '</span> + expectedResult[<span class="hljs-string">'render'</span>] + <span class="hljs-string">' but got '</span> + json[<span class="hljs-string">'render'</span>]);<br>    <span class="hljs-keyword">var</span> order = test[<span class="hljs-string">"query"</span>][<span class="hljs-string">"ORDER"</span>];<br>    <span class="hljs-keyword">if</span> (order != <span class="hljs-literal">undefined</span>) {<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> order === <span class="hljs-string">'string'</span>) {<br>            <span class="hljs-keyword">var</span> previous = -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _i = <span class="hljs-number">0</span>, _a = json[<span class="hljs-string">"result"</span>]; _i &lt; _a.length; _i++) {<br>                <span class="hljs-keyword">var</span> entry = _a[_i];<br>                <span class="hljs-keyword">var</span> current = entry[order];<br>                chai_1.assert.isAtMost(previous, current, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>        <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">var</span> previous = {};<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; json[<span class="hljs-string">"result"</span>].length; z++) {<br>                <span class="hljs-keyword">var</span> entry = json[<span class="hljs-string">"result"</span>][z];<br>                <span class="hljs-keyword">var</span> current = {};<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _b = <span class="hljs-number">0</span>, _c = order.keys; _b &lt; _c.length; _b++) {<br>                    <span class="hljs-keyword">var</span> k = _c[_b];<br>                    current[k] = entry[k];<br>                }<br>                <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">0</span>) {<br>                    <span class="hljs-keyword">var</span> comp = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _d = <span class="hljs-number">0</span>, _e = order[<span class="hljs-string">"keys"</span>]; _d &lt; _e.length; _d++) {<br>                        <span class="hljs-keyword">var</span> k = _e[_d];<br>                        <span class="hljs-keyword">if</span> (previous[k] &lt; current[k]) {<br>                            comp = -<span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (previous[k] &gt; current[k]) {<br>                            comp = <span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                    }<br>                    <span class="hljs-keyword">if</span> (order[<span class="hljs-string">"dir"</span>] == <span class="hljs-string">'UP'</span>) {<br>                        chai_1.assert.isAtMost(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                    <span class="hljs-keyword">else</span> {<br>                        chai_1.assert.isAtLeast(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                }<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>    }<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    <span class="hljs-keyword">if</span> (result.code) {<br>        Util_1.default.test(<span class="hljs-string">'Got failure response: '</span>);<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result));<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'failed query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &gt;= <span class="hljs-number">400</span>, <span class="hljs-string">'expects 4xx code when promise rejected in IInsightFacade.performQuery()'</span>);<br>        Joi.assert(result.body, types);<br>    }<br>    <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">throw</span> result;<br>    }<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="87c01ec7-90af-4538-b337-ca48c931e023" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should be able to find sections in CP* with average &gt; 70 AND are not taught by Murphy, Gail OR any courses taught by Gregor
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#87c01ec7-90af-4538-b337-ca48c931e023 > .test-code.collapse">Code</button>
              <span class="test-duration medium">59 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">return</span> insightFacade.performQuery((test[<span class="hljs-string">'query'</span>])).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'successful query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &lt; <span class="hljs-number">400</span>, <span class="hljs-string">'expects 2xx code when promise fulfilled in IInsightFacade.performQuery()'</span>);<br>    Joi.assert(result.body, types);<br>    <span class="hljs-keyword">var</span> json = result.body;<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.result).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    <span class="hljs-keyword">var</span> a = lodash.countBy(json[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> b = lodash.countBy(expectedResult[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> c = lodash.isEqual(a, b);<br>    <span class="hljs-keyword">if</span> (!c) {<br>        Util_1.default.test(<span class="hljs-string">"Expected:"</span>);<br>        <span class="hljs-built_in">console</span>.log(expectedResult[<span class="hljs-string">"result"</span>]);<br>        Util_1.default.test(<span class="hljs-string">"Received:"</span>);<br>        <span class="hljs-built_in">console</span>.log(json[<span class="hljs-string">"result"</span>]);<br>        <span class="hljs-keyword">var</span> zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> b) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>        zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> a) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>    }<br>    chai_1.assert(c, <span class="hljs-string">'results do not contain the same entries'</span>);<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.render).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    chai_1.assert(lodash.isEqual(json[<span class="hljs-string">"render"</span>], expectedResult[<span class="hljs-string">"render"</span>]), <span class="hljs-string">'render should be '</span> + expectedResult[<span class="hljs-string">'render'</span>] + <span class="hljs-string">' but got '</span> + json[<span class="hljs-string">'render'</span>]);<br>    <span class="hljs-keyword">var</span> order = test[<span class="hljs-string">"query"</span>][<span class="hljs-string">"ORDER"</span>];<br>    <span class="hljs-keyword">if</span> (order != <span class="hljs-literal">undefined</span>) {<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> order === <span class="hljs-string">'string'</span>) {<br>            <span class="hljs-keyword">var</span> previous = -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _i = <span class="hljs-number">0</span>, _a = json[<span class="hljs-string">"result"</span>]; _i &lt; _a.length; _i++) {<br>                <span class="hljs-keyword">var</span> entry = _a[_i];<br>                <span class="hljs-keyword">var</span> current = entry[order];<br>                chai_1.assert.isAtMost(previous, current, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>        <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">var</span> previous = {};<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; json[<span class="hljs-string">"result"</span>].length; z++) {<br>                <span class="hljs-keyword">var</span> entry = json[<span class="hljs-string">"result"</span>][z];<br>                <span class="hljs-keyword">var</span> current = {};<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _b = <span class="hljs-number">0</span>, _c = order.keys; _b &lt; _c.length; _b++) {<br>                    <span class="hljs-keyword">var</span> k = _c[_b];<br>                    current[k] = entry[k];<br>                }<br>                <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">0</span>) {<br>                    <span class="hljs-keyword">var</span> comp = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _d = <span class="hljs-number">0</span>, _e = order[<span class="hljs-string">"keys"</span>]; _d &lt; _e.length; _d++) {<br>                        <span class="hljs-keyword">var</span> k = _e[_d];<br>                        <span class="hljs-keyword">if</span> (previous[k] &lt; current[k]) {<br>                            comp = -<span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (previous[k] &gt; current[k]) {<br>                            comp = <span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                    }<br>                    <span class="hljs-keyword">if</span> (order[<span class="hljs-string">"dir"</span>] == <span class="hljs-string">'UP'</span>) {<br>                        chai_1.assert.isAtMost(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                    <span class="hljs-keyword">else</span> {<br>                        chai_1.assert.isAtLeast(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                }<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>    }<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    <span class="hljs-keyword">if</span> (result.code) {<br>        Util_1.default.test(<span class="hljs-string">'Got failure response: '</span>);<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result));<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'failed query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &gt;= <span class="hljs-number">400</span>, <span class="hljs-string">'expects 4xx code when promise rejected in IInsightFacade.performQuery()'</span>);<br>        Joi.assert(result.body, types);<br>    }<br>    <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">throw</span> result;<br>    }<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7f3b7e38-adff-4294-a9db-785c12600c01" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Find the average for all cpsc courses
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7f3b7e38-adff-4294-a9db-785c12600c01 > .test-code.collapse">Code</button>
              <span class="test-duration medium">51 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">return</span> insightFacade.performQuery((test[<span class="hljs-string">'query'</span>])).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'successful query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &lt; <span class="hljs-number">400</span>, <span class="hljs-string">'expects 2xx code when promise fulfilled in IInsightFacade.performQuery()'</span>);<br>    Joi.assert(result.body, types);<br>    <span class="hljs-keyword">var</span> json = result.body;<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.result).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    <span class="hljs-keyword">var</span> a = lodash.countBy(json[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> b = lodash.countBy(expectedResult[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> c = lodash.isEqual(a, b);<br>    <span class="hljs-keyword">if</span> (!c) {<br>        Util_1.default.test(<span class="hljs-string">"Expected:"</span>);<br>        <span class="hljs-built_in">console</span>.log(expectedResult[<span class="hljs-string">"result"</span>]);<br>        Util_1.default.test(<span class="hljs-string">"Received:"</span>);<br>        <span class="hljs-built_in">console</span>.log(json[<span class="hljs-string">"result"</span>]);<br>        <span class="hljs-keyword">var</span> zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> b) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>        zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> a) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>    }<br>    chai_1.assert(c, <span class="hljs-string">'results do not contain the same entries'</span>);<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.render).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    chai_1.assert(lodash.isEqual(json[<span class="hljs-string">"render"</span>], expectedResult[<span class="hljs-string">"render"</span>]), <span class="hljs-string">'render should be '</span> + expectedResult[<span class="hljs-string">'render'</span>] + <span class="hljs-string">' but got '</span> + json[<span class="hljs-string">'render'</span>]);<br>    <span class="hljs-keyword">var</span> order = test[<span class="hljs-string">"query"</span>][<span class="hljs-string">"ORDER"</span>];<br>    <span class="hljs-keyword">if</span> (order != <span class="hljs-literal">undefined</span>) {<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> order === <span class="hljs-string">'string'</span>) {<br>            <span class="hljs-keyword">var</span> previous = -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _i = <span class="hljs-number">0</span>, _a = json[<span class="hljs-string">"result"</span>]; _i &lt; _a.length; _i++) {<br>                <span class="hljs-keyword">var</span> entry = _a[_i];<br>                <span class="hljs-keyword">var</span> current = entry[order];<br>                chai_1.assert.isAtMost(previous, current, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>        <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">var</span> previous = {};<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; json[<span class="hljs-string">"result"</span>].length; z++) {<br>                <span class="hljs-keyword">var</span> entry = json[<span class="hljs-string">"result"</span>][z];<br>                <span class="hljs-keyword">var</span> current = {};<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _b = <span class="hljs-number">0</span>, _c = order.keys; _b &lt; _c.length; _b++) {<br>                    <span class="hljs-keyword">var</span> k = _c[_b];<br>                    current[k] = entry[k];<br>                }<br>                <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">0</span>) {<br>                    <span class="hljs-keyword">var</span> comp = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _d = <span class="hljs-number">0</span>, _e = order[<span class="hljs-string">"keys"</span>]; _d &lt; _e.length; _d++) {<br>                        <span class="hljs-keyword">var</span> k = _e[_d];<br>                        <span class="hljs-keyword">if</span> (previous[k] &lt; current[k]) {<br>                            comp = -<span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (previous[k] &gt; current[k]) {<br>                            comp = <span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                    }<br>                    <span class="hljs-keyword">if</span> (order[<span class="hljs-string">"dir"</span>] == <span class="hljs-string">'UP'</span>) {<br>                        chai_1.assert.isAtMost(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                    <span class="hljs-keyword">else</span> {<br>                        chai_1.assert.isAtLeast(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                }<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>    }<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    <span class="hljs-keyword">if</span> (result.code) {<br>        Util_1.default.test(<span class="hljs-string">'Got failure response: '</span>);<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result));<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'failed query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &gt;= <span class="hljs-number">400</span>, <span class="hljs-string">'expects 4xx code when promise rejected in IInsightFacade.performQuery()'</span>);<br>        Joi.assert(result.body, types);<br>    }<br>    <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">throw</span> result;<br>    }<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7adefd5d-f2b2-4542-83e6-45cae115b879" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Find the average for all courses in the university, sort up (hardest to easiest)
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7adefd5d-f2b2-4542-83e6-45cae115b879 > .test-code.collapse">Code</button>
              <span class="test-duration slow">437 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">return</span> insightFacade.performQuery((test[<span class="hljs-string">'query'</span>])).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'successful query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &lt; <span class="hljs-number">400</span>, <span class="hljs-string">'expects 2xx code when promise fulfilled in IInsightFacade.performQuery()'</span>);<br>    Joi.assert(result.body, types);<br>    <span class="hljs-keyword">var</span> json = result.body;<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.result).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    <span class="hljs-keyword">var</span> a = lodash.countBy(json[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> b = lodash.countBy(expectedResult[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> c = lodash.isEqual(a, b);<br>    <span class="hljs-keyword">if</span> (!c) {<br>        Util_1.default.test(<span class="hljs-string">"Expected:"</span>);<br>        <span class="hljs-built_in">console</span>.log(expectedResult[<span class="hljs-string">"result"</span>]);<br>        Util_1.default.test(<span class="hljs-string">"Received:"</span>);<br>        <span class="hljs-built_in">console</span>.log(json[<span class="hljs-string">"result"</span>]);<br>        <span class="hljs-keyword">var</span> zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> b) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>        zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> a) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>    }<br>    chai_1.assert(c, <span class="hljs-string">'results do not contain the same entries'</span>);<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.render).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    chai_1.assert(lodash.isEqual(json[<span class="hljs-string">"render"</span>], expectedResult[<span class="hljs-string">"render"</span>]), <span class="hljs-string">'render should be '</span> + expectedResult[<span class="hljs-string">'render'</span>] + <span class="hljs-string">' but got '</span> + json[<span class="hljs-string">'render'</span>]);<br>    <span class="hljs-keyword">var</span> order = test[<span class="hljs-string">"query"</span>][<span class="hljs-string">"ORDER"</span>];<br>    <span class="hljs-keyword">if</span> (order != <span class="hljs-literal">undefined</span>) {<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> order === <span class="hljs-string">'string'</span>) {<br>            <span class="hljs-keyword">var</span> previous = -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _i = <span class="hljs-number">0</span>, _a = json[<span class="hljs-string">"result"</span>]; _i &lt; _a.length; _i++) {<br>                <span class="hljs-keyword">var</span> entry = _a[_i];<br>                <span class="hljs-keyword">var</span> current = entry[order];<br>                chai_1.assert.isAtMost(previous, current, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>        <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">var</span> previous = {};<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; json[<span class="hljs-string">"result"</span>].length; z++) {<br>                <span class="hljs-keyword">var</span> entry = json[<span class="hljs-string">"result"</span>][z];<br>                <span class="hljs-keyword">var</span> current = {};<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _b = <span class="hljs-number">0</span>, _c = order.keys; _b &lt; _c.length; _b++) {<br>                    <span class="hljs-keyword">var</span> k = _c[_b];<br>                    current[k] = entry[k];<br>                }<br>                <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">0</span>) {<br>                    <span class="hljs-keyword">var</span> comp = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _d = <span class="hljs-number">0</span>, _e = order[<span class="hljs-string">"keys"</span>]; _d &lt; _e.length; _d++) {<br>                        <span class="hljs-keyword">var</span> k = _e[_d];<br>                        <span class="hljs-keyword">if</span> (previous[k] &lt; current[k]) {<br>                            comp = -<span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (previous[k] &gt; current[k]) {<br>                            comp = <span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                    }<br>                    <span class="hljs-keyword">if</span> (order[<span class="hljs-string">"dir"</span>] == <span class="hljs-string">'UP'</span>) {<br>                        chai_1.assert.isAtMost(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                    <span class="hljs-keyword">else</span> {<br>                        chai_1.assert.isAtLeast(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                }<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>    }<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    <span class="hljs-keyword">if</span> (result.code) {<br>        Util_1.default.test(<span class="hljs-string">'Got failure response: '</span>);<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result));<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'failed query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &gt;= <span class="hljs-number">400</span>, <span class="hljs-string">'expects 4xx code when promise rejected in IInsightFacade.performQuery()'</span>);<br>        Joi.assert(result.body, types);<br>    }<br>    <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">throw</span> result;<br>    }<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="78118a83-81e6-46af-bec8-c354da18ffde" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Find the courses offered the most times
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#78118a83-81e6-46af-bec8-c354da18ffde > .test-code.collapse">Code</button>
              <span class="test-duration slow">469 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">return</span> insightFacade.performQuery((test[<span class="hljs-string">'query'</span>])).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'successful query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>    chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &lt; <span class="hljs-number">400</span>, <span class="hljs-string">'expects 2xx code when promise fulfilled in IInsightFacade.performQuery()'</span>);<br>    Joi.assert(result.body, types);<br>    <span class="hljs-keyword">var</span> json = result.body;<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.result).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    <span class="hljs-keyword">var</span> a = lodash.countBy(json[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> b = lodash.countBy(expectedResult[<span class="hljs-string">"result"</span>], <span class="hljs-built_in">JSON</span>.stringify);<br>    <span class="hljs-keyword">var</span> c = lodash.isEqual(a, b);<br>    <span class="hljs-keyword">if</span> (!c) {<br>        Util_1.default.test(<span class="hljs-string">"Expected:"</span>);<br>        <span class="hljs-built_in">console</span>.log(expectedResult[<span class="hljs-string">"result"</span>]);<br>        Util_1.default.test(<span class="hljs-string">"Received:"</span>);<br>        <span class="hljs-built_in">console</span>.log(json[<span class="hljs-string">"result"</span>]);<br>        <span class="hljs-keyword">var</span> zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> b) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>        zcnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z <span class="hljs-keyword">in</span> a) {<br>            <span class="hljs-keyword">if</span> (a[z] != b[z]) {<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Failure case "</span> + zcnt + <span class="hljs-string">": "</span> + z);<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Expected = "</span> + b[z] + <span class="hljs-string">", actual = "</span> + a[z]);<br>                zcnt++;<br>                <span class="hljs-keyword">if</span> (zcnt == <span class="hljs-number">50</span>) {<br>                    <span class="hljs-keyword">break</span>;<br>                }<br>            }<br>        }<br>    }<br>    chai_1.assert(c, <span class="hljs-string">'results do not contain the same entries'</span>);<br>    chai_1.expect(<span class="hljs-keyword">typeof</span> json.render).not.to.equal(<span class="hljs-string">'undefined'</span>);<br>    chai_1.assert(lodash.isEqual(json[<span class="hljs-string">"render"</span>], expectedResult[<span class="hljs-string">"render"</span>]), <span class="hljs-string">'render should be '</span> + expectedResult[<span class="hljs-string">'render'</span>] + <span class="hljs-string">' but got '</span> + json[<span class="hljs-string">'render'</span>]);<br>    <span class="hljs-keyword">var</span> order = test[<span class="hljs-string">"query"</span>][<span class="hljs-string">"ORDER"</span>];<br>    <span class="hljs-keyword">if</span> (order != <span class="hljs-literal">undefined</span>) {<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> order === <span class="hljs-string">'string'</span>) {<br>            <span class="hljs-keyword">var</span> previous = -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _i = <span class="hljs-number">0</span>, _a = json[<span class="hljs-string">"result"</span>]; _i &lt; _a.length; _i++) {<br>                <span class="hljs-keyword">var</span> entry = _a[_i];<br>                <span class="hljs-keyword">var</span> current = entry[order];<br>                chai_1.assert.isAtMost(previous, current, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>        <span class="hljs-keyword">else</span> {<br>            <span class="hljs-keyword">var</span> previous = {};<br>            <span class="hljs-keyword">var</span> previousEntry = {};<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; json[<span class="hljs-string">"result"</span>].length; z++) {<br>                <span class="hljs-keyword">var</span> entry = json[<span class="hljs-string">"result"</span>][z];<br>                <span class="hljs-keyword">var</span> current = {};<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _b = <span class="hljs-number">0</span>, _c = order.keys; _b &lt; _c.length; _b++) {<br>                    <span class="hljs-keyword">var</span> k = _c[_b];<br>                    current[k] = entry[k];<br>                }<br>                <span class="hljs-keyword">if</span> (z &gt; <span class="hljs-number">0</span>) {<br>                    <span class="hljs-keyword">var</span> comp = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _d = <span class="hljs-number">0</span>, _e = order[<span class="hljs-string">"keys"</span>]; _d &lt; _e.length; _d++) {<br>                        <span class="hljs-keyword">var</span> k = _e[_d];<br>                        <span class="hljs-keyword">if</span> (previous[k] &lt; current[k]) {<br>                            comp = -<span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (previous[k] &gt; current[k]) {<br>                            comp = <span class="hljs-number">1</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        }<br>                    }<br>                    <span class="hljs-keyword">if</span> (order[<span class="hljs-string">"dir"</span>] == <span class="hljs-string">'UP'</span>) {<br>                        chai_1.assert.isAtMost(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                    <span class="hljs-keyword">else</span> {<br>                        chai_1.assert.isAtLeast(comp, <span class="hljs-number">0</span>, <span class="hljs-built_in">JSON</span>.stringify(entry) + <span class="hljs-string">" should appear before "</span> + <span class="hljs-built_in">JSON</span>.stringify(previousEntry));<br>                    }<br>                }<br>                previous = current;<br>                previousEntry = entry;<br>            }<br>        }<br>    }<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    <span class="hljs-keyword">if</span> (result.code) {<br>        Util_1.default.test(<span class="hljs-string">'Got failure response: '</span>);<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result));<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] == result.code, <span class="hljs-string">'failed query: expect '</span> + test[<span class="hljs-string">'expected-status'</span>] + <span class="hljs-string">' but got code '</span> + result.code);<br>        chai_1.assert(test[<span class="hljs-string">'expected-status'</span>] &gt;= <span class="hljs-number">400</span>, <span class="hljs-string">'expects 4xx code when promise rejected in IInsightFacade.performQuery()'</span>);<br>        Joi.assert(result.body, types);<br>    }<br>    <span class="hljs-keyword">else</span> {<br>        <span class="hljs-keyword">throw</span> result;<br>    }<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fb9fbcd6-d476-468f-80b8-84dabee7f963" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Should not be able to submit an empty query
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fb9fbcd6-d476-468f-80b8-84dabee7f963 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {};<br><span class="hljs-keyword">return</span> insightFacade.performQuery(query).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'query should not succeed'</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expects 400 error'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="34402916-a012-47d0-9828-1edd9e42ef36" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              All underscore keys in GET must be in GROUP
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#34402916-a012-47d0-9828-1edd9e42ef36 > .test-code.collapse">Code</button>
              <span class="test-duration fast">4 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courses_uuid"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>};<br><span class="hljs-keyword">return</span> insightFacade.performQuery(query).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'query should not succeed'</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expects 400 error'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4e2e627c-c962-4094-9480-0ab9c5b3e3d3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              All extra keys in GET must be in APPLY
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4e2e627c-c962-4094-9480-0ab9c5b3e3d3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"abcde"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>};<br><span class="hljs-keyword">return</span> insightFacade.performQuery(query).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'query should not succeed'</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expects 400 error'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6eb0df47-ff65-4645-af34-21e60ce48766" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              APPLY rules must be unique per extra key
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6eb0df47-ff65-4645-af34-21e60ce48766 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }, { <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>};<br><span class="hljs-keyword">return</span> insightFacade.performQuery(query).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'query should not succeed'</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expects 400 error'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="94fdfeb5-d4a9-415f-859b-0a2e317d6da4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              if key is in GROUP key must not be in APPLY
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#94fdfeb5-d4a9-415f-859b-0a2e317d6da4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_id"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>};<br><span class="hljs-keyword">return</span> insightFacade.performQuery(query).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'query should not succeed'</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expects 400 error'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a887ad59-7eb6-45aa-938d-ac59096e7e33" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              if key is in APPLY, key must not be in GROUP
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a887ad59-7eb6-45aa-938d-ac59096e7e33 > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courses_avg"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>};<br><span class="hljs-keyword">return</span> insightFacade.performQuery(query).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'query should not succeed'</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expects 400 error'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="289b7904-eb25-4f49-8c02-d3fd70df351c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              no duplicate key in GROUP
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#289b7904-eb25-4f49-8c02-d3fd70df351c > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: { <span class="hljs-string">"IS"</span>: { <span class="hljs-string">"courses_dept"</span>: <span class="hljs-string">"cpsc"</span> } },<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courses_id"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>};<br><span class="hljs-keyword">return</span> insightFacade.performQuery(query).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'query should not succeed'</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">400</span>, <span class="hljs-string">'expects 400 error'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e594cc50-5f70-4ea3-a211-811fa8be3050" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              GROUP key not in GET is allowed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e594cc50-5f70-4ea3-a211-811fa8be3050 > .test-code.collapse">Code</button>
              <span class="test-duration slow">242 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> query = {<br>    <span class="hljs-string">"GET"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courseAverage"</span>],<br>    <span class="hljs-string">"WHERE"</span>: {},<br>    <span class="hljs-string">"GROUP"</span>: [<span class="hljs-string">"courses_id"</span>, <span class="hljs-string">"courses_dept"</span>],<br>    <span class="hljs-string">"APPLY"</span>: [{ <span class="hljs-string">"courseAverage"</span>: { <span class="hljs-string">"AVG"</span>: <span class="hljs-string">"courses_avg"</span> } }],<br>    <span class="hljs-string">"ORDER"</span>: { <span class="hljs-string">"dir"</span>: <span class="hljs-string">"UP"</span>, <span class="hljs-string">"keys"</span>: [<span class="hljs-string">"courseAverage"</span>, <span class="hljs-string">"courses_id"</span>] },<br>    <span class="hljs-string">"AS"</span>: <span class="hljs-string">"TABLE"</span><br>};<br><span class="hljs-keyword">return</span> insightFacade.performQuery(query).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(result.code == <span class="hljs-number">200</span>, <span class="hljs-string">'expects 200 success'</span>);<br>}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) </span>{<br>    chai_1.assert(<span class="hljs-literal">false</span>, <span class="hljs-string">'query should not fail'</span>);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
    </div>

    <footer>
      <div class="container">
        <p>Report generated by <a href="http://adamgruber.github.io/mochawesome/" target="_blank">mochawesome</a>.<br>Designed and built by <a href="https://github.com/adamgruber" target="_blank">adamgruber</a>. &copy;2016.</p>
      </div>
    </footer>

    <!-- Nav Menu -->
    <div class="nav-menu-wrap">
      <div class="menu-overlay close-menu"></div>
      <nav class="menu">
        <button class="nav-menu-btn close-menu"><i class="icon-failed"></i></button>
        <ul class="list-unstyled main-menu">
                <li class="nav-menu-item">
                <a href="#05c351f7-0891-47fc-bfdf-fac39058d416" class="nav-menu-item-link has-failures">DatasetController</a>
            </li>
                <li class="nav-menu-item">
                <a href="#106aab29-30e5-4fd5-ab78-43a95b630459" class="nav-menu-item-link has-passes">InsightFacade</a>
            </li>
                <li class="nav-menu-item">
                <a href="#178888dc-84f3-400b-9cad-22afb41a02b4" class="nav-menu-item-link has-passes">QueryController</a>
            </li>
                <li class="nav-menu-item">
                <a href="#b3e8c3e9-a323-45c2-be34-c756022c6cb6" class="nav-menu-item-link has-passes">Dataset Service</a>
            </li>
                <li class="nav-menu-item">
                <a href="#31447b11-0fce-4c8d-8158-39158cc71f8d" class="nav-menu-item-link has-passes">Query Service</a>
            </li>
        </ul>
      </nav>
    </div>

    <!-- Scripts -->
    <script src="js/vendor.js"></script>
    <script src="js/mochawesome.js"></script>
  </body>
</html>
